# üìò –°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∑ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –∫–æ–¥—É

> *–í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω–æ–≥–æ Python-–∫–æ–¥—É —Ç–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.*

---

## üë§ –ê–≤—Ç–æ—Ä

- **–ü–Ü–ë**: –Æ—Ä–∞—Å–æ–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä
- **–ì—Ä—É–ø–∞**: –§–ï–Ü-42
- **–ö–µ—Ä—ñ–≤–Ω–∏–∫**: –ì—É—Å–∞–∫ –û–ª–µ–≥ –í–∞—Å–∏–ª—å–æ–≤–∏—á, –∞—Å–ø—ñ—Ä–∞–Ω—Ç, –∞—Å–∏—Å—Ç–µ–Ω—Ç
- **–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: 01.06.2025

---

## üìå –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- **–¢–∏–ø –ø—Ä–æ—î–∫—Ç—É**: –í–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
- **–ú–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è**: Python
- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ / –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**: Django, Django REST framework, Graphene, RestrictedPython, Waitress, Locust

---

## üß† –û–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É

- üîê –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∑ JWT (—á–µ—Ä–µ–∑ cookies)
- üìÅ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—ñ–≤
- üß† –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Python-–∫–æ–¥—É –∑ sandbox-–æ—Ç–æ—á–µ–Ω–Ω—è–º
- üåê REST API –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- üß¨ GraphQL API —è–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üß™ –ù–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Locust
- üß™ –§–∞–π–ª–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —É Postman

---

## üß± –û–ø–∏—Å –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ / —Ñ–∞–π–ª—ñ–≤

| –ö–ª–∞—Å / –§–∞–π–ª                         | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------------------------------------|-------------|
| `views.py`                         | REST-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –ø—Ä–æ–µ–∫—Ç—ñ–≤ |
| `serializers.py`                   | –°—Ö–µ–º–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π —É JSON |
| `models.py`                        | –ú–æ–¥–µ–ª—å Project –∑ –∞–≤—Ç–æ—Ä–æ–º, –∫–æ–¥–æ–º, –º–æ–≤–æ—é |
| `graphql_views.py`                 | GraphQL –æ–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤ —á–µ—Ä–µ–∑ Graphene |
| `urls.py`                          | –û—Å–Ω–æ–≤–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏ API |
| `locust_rest.py`, `locust_graphql.py` | –°–∫—Ä–∏–ø—Ç–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è |

---

## ‚ñ∂Ô∏è –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ—î–∫—Ç "–∑ –Ω—É–ª—è"

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

- Python 3.11+
- pip
- PostgreSQL (–∞–±–æ SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É)

### 2. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone git@github.com:MusicW0lf/django-restApi13.git
cd django-restApi13
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
python -m venv venv
venv/Scripts/Activate
```

### 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è .env —Ñ–∞–π–ª—É –∑ –¥–∞–Ω–∏–º–∏ –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
DB_PASSWORD = 'postgres'
DB_HOST = 'localhost'
DB_PORT ='5432'
DB_USERNAME = 'postgres'
DB_NAME = 'AlgoLib'
```

### 5. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 6. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–î

```bash
python manage.py makemigrations
python manage.py migrate
```

### 7. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python manage.py runserver
```

–∞–±–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **waitress**:

```bash
waitress-serve --listen=0.0.0.0:8080 --threads=32 server.wsgi:application
```

---

## üîå API –ø—Ä–∏–∫–ª–∞–¥–∏

> **–ü—Ä–∏–º—ñ—Ç–∫–∞**: –ø—ñ—Å–ª—è –≤—Ö–æ–¥—É JWT-—Ç–æ–∫–µ–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ HttpOnly cookie.

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

#### **POST `/signup`**

```json
{
  "username": "testuser",
  "email": "test@example.com",
  "password": "securepass"
}
```

#### **POST `/login`**

```json
{
  "email": "test@example.com",
  "password": "securepass"
}
```

#### **POST `/logout`**

–û—á–∏—â–∞—î cookie –∑ JWT.

---

### üìÅ –ü—Ä–æ–µ–∫—Ç–∏

#### **GET `/user-projects/`**

–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

#### **POST `/create-project`**

```json
{
  "name": "–ú—ñ–π –ø–µ—Ä—à–∏–π –ø—Ä–æ–µ–∫—Ç",
  "language": "Python"
}
```

#### **GET `/project/<project-id>/`**

–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –ø—Ä–æ–µ–∫—Ç—É, —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —î –∞–≤—Ç–æ—Ä–æ–º.

#### **PATCH `/project/<project_id>/rename/`**

```json
{
  "name": "–û–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞–∑–≤–∞"
}
```

#### **DELETE `/project/<project_id>/delete/`**

–í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç.

#### **POST `/project/execute/`**

```json
{
  "project_id": 3,
  "code": "print(1 + 2)"
}
```

**Response:**

```json
{
  "stdout": ["3"],
  "error": null
}
```

---

### üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

#### **GET `/user-details`**

–ü–æ–≤–µ—Ä—Ç–∞—î:

```json
{ "username": "testuser" }
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ Locust (REST):

```bash
locust -f locust_rest.py --host=http://127.0.0.1:8080/
```

### –ó–∞–ø—É—Å–∫ Locust (GraphQL):

```bash
locust -f locust_graphql.py --host=http://127.0.0.1:8080/graphql/
```

---

## üñ±Ô∏è –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

1. **–ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å** –∞–±–æ **—É–≤—ñ–π–¥—ñ—Ç—å** –Ω–∞ http://localhost:8000/signup –∞–±–æ /login
2. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ http://localhost:8000/graqhql/ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤—ñ–∑—É–∞–ª—å–Ω—É –ø–∞–Ω–µ–ª—å:
   - `‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç`
   - `üìÑ –ü–µ—Ä–µ–≥–ª—è–¥ —ñ–º–µ–Ω—ñ —Ç–∞ –∫–æ–¥—É –ø—Ä–æ–µ–∫—Ç—ñ–≤`
   - `‚úèÔ∏è –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏`, `üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏`
   - `‚ñ∂Ô∏è –í–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–¥`

---

## üì∑ –ü—Ä–∏–∫–ª–∞–¥–∏ / —Å–∫—Ä–∏–Ω—à–æ—Ç–∏

–°–∫—Ä–∏–Ω—à–æ—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∞–±–æ API-–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —É –ø–∞–ø—Ü—ñ `/screenshots/`

–ö—Ä—ñ–º —Ç–æ–≥–æ –Ω–∞–¥–∞–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏—Ö –∫–µ–π—Å—ñ–≤ –¥–ª—è Postman, —è–∫ –¥–ª—è GraphQL —Ç–∞–∫ —ñ –¥–ª—è REST.
---

## üß™ –ü—Ä–æ–±–ª–µ–º–∏ —ñ —Ä—ñ—à–µ–Ω–Ω—è

| –ü—Ä–æ–±–ª–µ–º–∞                   | –†—ñ—à–µ–Ω–Ω—è                                  |
|---------------------------|-------------------------------------------|
| –°–∞–π—Ç—É –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–µ —ñ—Å–Ω—É—î      | –ü—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ runserver –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø–æ—Ä—Ç 8000, waitress –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—Ä—Ç 8080 |
| –¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø—É –Ω–µ –ø—Ä–∞—Ü—é—î           | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ /login –ø—Ä–∞–≤–∏–ª—å–Ω–µ, –∞ /login/ –Ω—ñ |
| JWT –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è               | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ cookie-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (HttpOnly, SameSite) |
| –ö–æ–¥ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è                | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É —Ç–∞ sandbox-–æ–±–º–µ–∂–µ–Ω–Ω—è |
| CORS –ø–æ–º–∏–ª–∫–∞                      | –î–æ–¥–∞—Ç–∏ CORS middleware (`django-cors-headers`) |

---

## üßæ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ / –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞

- Django Official Docs
- Django REST Framework
- Graphene-Django
- RestrictedPython
- StackOverflow

---
